<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Sized.IO.Primitive</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="Sized.IO.Primitive.html" class="Module">Sized.IO.Primitive</a> <a id="27" class="Keyword">where</a>

<a id="34" class="Keyword">open</a> <a id="39" class="Keyword">import</a> <a id="46" href="IO.Primitive.html" class="Module">IO.Primitive</a>
<a id="59" class="Keyword">open</a> <a id="64" class="Keyword">import</a> <a id="71" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a>
<a id="88" class="Keyword">open</a> <a id="93" class="Keyword">import</a> <a id="100" href="Agda.Builtin.Char.html" class="Module">Agda.Builtin.Char</a>
<a id="118" class="Keyword">open</a> <a id="123" class="Keyword">import</a> <a id="130" href="Agda.Builtin.String.html" class="Module">Agda.Builtin.String</a>
<a id="150" class="Keyword">open</a> <a id="155" class="Keyword">import</a> <a id="162" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a>
<a id="178" class="Keyword">open</a> <a id="183" class="Keyword">import</a> <a id="190" href="Foreign.Haskell.html" class="Module">Foreign.Haskell</a>

<a id="207" class="Keyword">postulate</a>
  <a id="interact"></a><a id="219" href="Sized.IO.Primitive.html#219" class="Postulate">interact</a> <a id="228" class="Symbol">:</a> <a id="230" class="Symbol">(</a><a id="231" href="Agda.Builtin.String.html#206" class="Postulate">String</a> <a id="238" class="Symbol">→</a> <a id="240" href="Agda.Builtin.String.html#206" class="Postulate">String</a><a id="246" class="Symbol">)</a> <a id="248" class="Symbol">→</a> <a id="250" href="Agda.Builtin.IO.html#111" class="Postulate">IO</a> <a id="253" href="Foreign.Haskell.html#343" class="Datatype">Unit</a>
  <a id="putChar"></a><a id="260" href="Sized.IO.Primitive.html#260" class="Postulate">putChar</a>  <a id="269" class="Symbol">:</a> <a id="271" href="Agda.Builtin.Char.html#200" class="Postulate">Char</a> <a id="276" class="Symbol">→</a> <a id="278" href="Agda.Builtin.IO.html#111" class="Postulate">IO</a> <a id="281" href="Foreign.Haskell.html#343" class="Datatype">Unit</a>
  <a id="getChar"></a><a id="288" href="Sized.IO.Primitive.html#288" class="Postulate">getChar</a>  <a id="297" class="Symbol">:</a> <a id="299" href="Agda.Builtin.IO.html#111" class="Postulate">IO</a> <a id="302" href="Agda.Builtin.Char.html#200" class="Postulate">Char</a>
  <a id="getLine"></a><a id="309" href="Sized.IO.Primitive.html#309" class="Postulate">getLine</a>  <a id="318" class="Symbol">:</a> <a id="320" href="Agda.Builtin.IO.html#111" class="Postulate">IO</a> <a id="323" href="Agda.Builtin.String.html#206" class="Postulate">String</a>

<a id="331" class="Symbol">{-#</a> <a id="335" class="Keyword">FOREIGN</a> <a id="343" class="Pragma">GHC</a> <a id="347" class="Pragma">import</a> <a id="354" class="Pragma">Data.Text</a> <a id="364" class="Symbol">#-}</a>
<a id="368" class="Symbol">{-#</a> <a id="372" class="Keyword">COMPILE</a> <a id="380" class="Pragma">GHC</a> <a id="384" href="Sized.IO.Primitive.html#219" class="Postulate">interact</a> <a id="393" class="Pragma">=</a> <a id="395" class="Pragma">\</a> <a id="397" class="Pragma">f</a> <a id="399" class="Pragma">-&gt;</a> <a id="402" class="Pragma">interact</a> <a id="411" class="Pragma">(unpack</a> <a id="419" class="Pragma">.</a> <a id="421" class="Pragma">f</a> <a id="423" class="Pragma">.</a> <a id="425" class="Pragma">pack)</a> <a id="431" class="Symbol">#-}</a>
<a id="435" class="Symbol">{-#</a> <a id="439" class="Keyword">COMPILE</a> <a id="447" class="Pragma">GHC</a> <a id="451" href="Sized.IO.Primitive.html#260" class="Postulate">putChar</a> <a id="459" class="Pragma">=</a> <a id="461" class="Pragma">putChar</a> <a id="469" class="Symbol">#-}</a>
<a id="473" class="Symbol">{-#</a> <a id="477" class="Keyword">COMPILE</a> <a id="485" class="Pragma">GHC</a> <a id="489" href="Sized.IO.Primitive.html#288" class="Postulate">getChar</a> <a id="497" class="Pragma">=</a> <a id="499" class="Pragma">getChar</a> <a id="507" class="Symbol">#-}</a>
<a id="511" class="Symbol">{-#</a> <a id="515" class="Keyword">COMPILE</a> <a id="523" class="Pragma">GHC</a> <a id="527" href="Sized.IO.Primitive.html#309" class="Postulate">getLine</a> <a id="535" class="Pragma">=</a> <a id="537" class="Pragma">fmap</a> <a id="542" class="Pragma">pack</a> <a id="547" class="Pragma">getLine</a> <a id="555" class="Symbol">#-}</a>

<a id="560" class="Keyword">data</a> <a id="BufferMode"></a><a id="565" href="Sized.IO.Primitive.html#565" class="Datatype">BufferMode</a> <a id="576" class="Symbol">:</a> <a id="578" class="PrimitiveType">Set</a> <a id="582" class="Keyword">where</a>
  <a id="BufferMode.NoBuffering"></a><a id="590" href="Sized.IO.Primitive.html#590" class="InductiveConstructor">NoBuffering</a> <a id="BufferMode.LineBuffering"></a><a id="602" href="Sized.IO.Primitive.html#602" class="InductiveConstructor">LineBuffering</a> <a id="616" class="Symbol">:</a> <a id="618" href="Sized.IO.Primitive.html#565" class="Datatype">BufferMode</a>
  <a id="BufferMode.BlockBuffering"></a><a id="631" href="Sized.IO.Primitive.html#631" class="InductiveConstructor">BlockBuffering</a> <a id="646" class="Symbol">:</a> <a id="648" href="Data.Maybe.Base.html#710" class="Datatype">Maybe</a> <a id="654" href="Agda.Builtin.Nat.html#165" class="Datatype">Nat</a> <a id="658" class="Symbol">→</a> <a id="660" href="Sized.IO.Primitive.html#565" class="Datatype">BufferMode</a>

<a id="672" class="Keyword">postulate</a>
  <a id="Handle"></a><a id="684" href="Sized.IO.Primitive.html#684" class="Postulate">Handle</a> <a id="691" class="Symbol">:</a> <a id="693" class="PrimitiveType">Set</a>
  <a id="stdin"></a><a id="699" href="Sized.IO.Primitive.html#699" class="Postulate">stdin</a> <a id="stdout"></a><a id="705" href="Sized.IO.Primitive.html#705" class="Postulate">stdout</a> <a id="stderr"></a><a id="712" href="Sized.IO.Primitive.html#712" class="Postulate">stderr</a> <a id="719" class="Symbol">:</a> <a id="721" href="Sized.IO.Primitive.html#684" class="Postulate">Handle</a>
  <a id="hSetBuffering"></a><a id="730" href="Sized.IO.Primitive.html#730" class="Postulate">hSetBuffering</a> <a id="744" class="Symbol">:</a> <a id="746" href="Sized.IO.Primitive.html#684" class="Postulate">Handle</a> <a id="753" class="Symbol">→</a> <a id="755" href="Sized.IO.Primitive.html#565" class="Datatype">BufferMode</a> <a id="766" class="Symbol">→</a> <a id="768" href="Agda.Builtin.IO.html#111" class="Postulate">IO</a> <a id="771" href="Foreign.Haskell.html#343" class="Datatype">Unit</a>
  <a id="hGetBuffering"></a><a id="778" href="Sized.IO.Primitive.html#778" class="Postulate">hGetBuffering</a> <a id="792" class="Symbol">:</a> <a id="794" href="Sized.IO.Primitive.html#684" class="Postulate">Handle</a> <a id="801" class="Symbol">→</a> <a id="803" href="Agda.Builtin.IO.html#111" class="Postulate">IO</a> <a id="806" href="Sized.IO.Primitive.html#565" class="Datatype">BufferMode</a>
  <a id="hFlush"></a><a id="819" href="Sized.IO.Primitive.html#819" class="Postulate">hFlush</a> <a id="826" class="Symbol">:</a> <a id="828" href="Sized.IO.Primitive.html#684" class="Postulate">Handle</a> <a id="835" class="Symbol">→</a> <a id="837" href="Agda.Builtin.IO.html#111" class="Postulate">IO</a> <a id="840" href="Foreign.Haskell.html#343" class="Datatype">Unit</a>

<a id="846" class="Symbol">{-#</a> <a id="850" class="Keyword">FOREIGN</a> <a id="858" class="Pragma">GHC</a> <a id="862" class="Pragma">import</a> <a id="869" class="Pragma">System.IO</a> <a id="879" class="Symbol">#-}</a>
<a id="883" class="Symbol">{-#</a> <a id="887" class="Keyword">FOREIGN</a> <a id="895" class="Pragma">GHC</a> <a id="899" class="Pragma">import</a> <a id="906" class="Pragma">qualified</a> <a id="916" class="Pragma">MAlonzo.Code.Data.Maybe.Base</a> <a id="945" class="Symbol">#-}</a>
<a id="949" class="Symbol">{-#</a> <a id="953" class="Keyword">FOREIGN</a> <a id="961" class="Pragma">GHC</a> <a id="965" class="Pragma">data</a> <a id="970" class="Pragma">AgdaBufferMode</a> <a id="985" class="Pragma">=</a> <a id="987" class="Pragma">AgdaNoBuffering</a> <a id="1003" class="Pragma">|</a> <a id="1005" class="Pragma">AgdaLineBuffering</a> <a id="1023" class="Pragma">|</a> <a id="1025" class="Pragma">AgdaBlockBuffering</a> <a id="1044" class="Pragma">(Maybe</a> <a id="1051" class="Pragma">Integer)</a> <a id="1060" class="Symbol">#-}</a>
<a id="1064" class="Symbol">{-#</a> <a id="1068" class="Keyword">FOREIGN</a> <a id="1076" class="Pragma">GHC</a> <a id="1080" class="Pragma">toBufferMode</a> <a id="1093" class="Pragma">=</a> <a id="1095" class="Pragma">\</a> <a id="1097" class="Pragma">x</a> <a id="1099" class="Pragma">-&gt;</a> <a id="1102" class="Pragma">case</a> <a id="1107" class="Pragma">x</a> <a id="1109" class="Pragma">of</a>
                                        <a id="1152" class="Pragma">AgdaNoBuffering</a> <a id="1168" class="Pragma">-&gt;</a> <a id="1171" class="Pragma">NoBuffering</a>
                                        <a id="1223" class="Pragma">AgdaLineBuffering</a> <a id="1241" class="Pragma">-&gt;</a> <a id="1244" class="Pragma">LineBuffering</a>
                                        <a id="1298" class="Pragma">AgdaBlockBuffering</a> <a id="1317" class="Pragma">m</a> <a id="1319" class="Pragma">-&gt;</a> <a id="1322" class="Pragma">BlockBuffering</a> <a id="1337" class="Pragma">(fmap</a> <a id="1343" class="Pragma">fromIntegral</a> <a id="1356" class="Pragma">m)</a>
<a id="1359" class="Symbol">#-}</a>
<a id="1363" class="Symbol">{-#</a> <a id="1367" class="Keyword">FOREIGN</a> <a id="1375" class="Pragma">GHC</a> <a id="1379" class="Pragma">fromBufferMode</a> <a id="1394" class="Pragma">=</a> <a id="1396" class="Pragma">\</a> <a id="1398" class="Pragma">x</a> <a id="1400" class="Pragma">-&gt;</a> <a id="1403" class="Pragma">case</a> <a id="1408" class="Pragma">x</a> <a id="1410" class="Pragma">of</a>
                                          <a id="1455" class="Pragma">NoBuffering</a> <a id="1467" class="Pragma">-&gt;</a> <a id="1470" class="Pragma">AgdaNoBuffering</a>
                                          <a id="1528" class="Pragma">LineBuffering</a> <a id="1542" class="Pragma">-&gt;</a> <a id="1545" class="Pragma">AgdaLineBuffering</a>
                                          <a id="1605" class="Pragma">BlockBuffering</a> <a id="1620" class="Pragma">m</a> <a id="1622" class="Pragma">-&gt;</a> <a id="1625" class="Pragma">AgdaBlockBuffering</a> <a id="1644" class="Pragma">(fmap</a> <a id="1650" class="Pragma">fromIntegral</a> <a id="1663" class="Pragma">m)</a>
<a id="1666" class="Symbol">#-}</a>
<a id="1670" class="Symbol">{-#</a> <a id="1674" class="Keyword">COMPILE</a> <a id="1682" class="Pragma">GHC</a> <a id="1686" href="Sized.IO.Primitive.html#565" class="Datatype">BufferMode</a> <a id="1697" class="Pragma">=</a> <a id="1699" class="Pragma">data</a> <a id="1704" class="Pragma">AgdaBufferMode</a> <a id="1719" class="Pragma">(AgdaNoBuffering</a> <a id="1736" class="Pragma">|</a> <a id="1738" class="Pragma">AgdaLineBuffering</a> <a id="1756" class="Pragma">|</a> <a id="1758" class="Pragma">AgdaBlockBuffering)</a> <a id="1778" class="Symbol">#-}</a>
<a id="1782" class="Symbol">{-#</a> <a id="1786" class="Keyword">COMPILE</a> <a id="1794" class="Pragma">GHC</a> <a id="1798" href="Sized.IO.Primitive.html#684" class="Postulate">Handle</a> <a id="1805" class="Pragma">=</a> <a id="1807" class="Pragma">type</a> <a id="1812" class="Pragma">Handle</a> <a id="1819" class="Symbol">#-}</a>
<a id="1823" class="Symbol">{-#</a> <a id="1827" class="Keyword">COMPILE</a> <a id="1835" class="Pragma">GHC</a> <a id="1839" href="Sized.IO.Primitive.html#699" class="Postulate">stdin</a> <a id="1845" class="Pragma">=</a> <a id="1847" class="Pragma">stdin</a> <a id="1853" class="Symbol">#-}</a>
<a id="1857" class="Symbol">{-#</a> <a id="1861" class="Keyword">COMPILE</a> <a id="1869" class="Pragma">GHC</a> <a id="1873" href="Sized.IO.Primitive.html#705" class="Postulate">stdout</a> <a id="1880" class="Pragma">=</a> <a id="1882" class="Pragma">stdout</a> <a id="1889" class="Symbol">#-}</a>
<a id="1893" class="Symbol">{-#</a> <a id="1897" class="Keyword">COMPILE</a> <a id="1905" class="Pragma">GHC</a> <a id="1909" href="Sized.IO.Primitive.html#712" class="Postulate">stderr</a> <a id="1916" class="Pragma">=</a> <a id="1918" class="Pragma">stderr</a> <a id="1925" class="Symbol">#-}</a>
<a id="1929" class="Symbol">{-#</a> <a id="1933" class="Keyword">COMPILE</a> <a id="1941" class="Pragma">GHC</a> <a id="1945" href="Sized.IO.Primitive.html#730" class="Postulate">hSetBuffering</a> <a id="1959" class="Pragma">=</a> <a id="1961" class="Pragma">fmap</a> <a id="1966" class="Pragma">(.</a> <a id="1969" class="Pragma">toBufferMode)</a> <a id="1983" class="Pragma">hSetBuffering</a> <a id="1997" class="Symbol">#-}</a>
<a id="2001" class="Symbol">{-#</a> <a id="2005" class="Keyword">COMPILE</a> <a id="2013" class="Pragma">GHC</a> <a id="2017" href="Sized.IO.Primitive.html#778" class="Postulate">hGetBuffering</a> <a id="2031" class="Pragma">=</a> <a id="2033" class="Pragma">fmap</a> <a id="2038" class="Pragma">fromBufferMode</a> <a id="2053" class="Pragma">.</a> <a id="2055" class="Pragma">hGetBuffering</a> <a id="2069" class="Symbol">#-}</a>
<a id="2073" class="Symbol">{-#</a> <a id="2077" class="Keyword">COMPILE</a> <a id="2085" class="Pragma">GHC</a> <a id="2089" href="Sized.IO.Primitive.html#819" class="Postulate">hFlush</a> <a id="2096" class="Pragma">=</a> <a id="2098" class="Pragma">hFlush</a> <a id="2105" class="Symbol">#-}</a>
</pre></body></html>