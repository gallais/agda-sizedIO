<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Vec</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Vectors</a>
<a id="117" class="Comment">------------------------------------------------------------------------</a>

<a id="191" class="Comment">-- This implementation is designed for reasoning about dynamic</a>
<a id="254" class="Comment">-- vectors which may increase or decrease in size.</a>

<a id="306" class="Comment">-- See `Data.Vec.Functional` for an alternative implementation as</a>
<a id="372" class="Comment">-- functions from finite sets, which is more suitable for reasoning</a>
<a id="440" class="Comment">-- about fixed sized vectors and for when ease of retrevial is</a>
<a id="503" class="Comment">-- important.</a>

<a id="518" class="Symbol">{-#</a> <a id="522" class="Keyword">OPTIONS</a> <a id="530" class="Pragma">--without-K</a> <a id="542" class="Pragma">--safe</a> <a id="549" class="Symbol">#-}</a>

<a id="554" class="Keyword">module</a> <a id="561" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="570" class="Keyword">where</a>

<a id="577" class="Keyword">open</a> <a id="582" class="Keyword">import</a> <a id="589" href="Level.html" class="Module">Level</a>
<a id="595" class="Keyword">import</a> <a id="602" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="622" class="Symbol">as</a> <a id="625" class="Module">ℕₚ</a>
<a id="628" class="Keyword">open</a> <a id="633" class="Keyword">import</a> <a id="640" href="Data.Vec.Bounded.Base.html" class="Module">Data.Vec.Bounded.Base</a> <a id="662" class="Symbol">as</a> <a id="665" class="Module">Vec≤</a>
  <a id="672" class="Keyword">using</a> <a id="678" class="Symbol">(</a><a id="679" href="Data.Vec.Bounded.Base.html#852" class="Record">Vec≤</a><a id="683" class="Symbol">;</a> <a id="685" href="Data.Vec.Bounded.Base.html#1484" class="Function">≤-cast</a><a id="691" class="Symbol">;</a> <a id="693" href="Data.Vec.Bounded.Base.html#1096" class="Function">fromVec</a><a id="700" class="Symbol">)</a>
<a id="702" class="Keyword">open</a> <a id="707" class="Keyword">import</a> <a id="714" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>
<a id="731" class="Keyword">open</a> <a id="736" class="Keyword">import</a> <a id="743" href="Relation.Unary.html" class="Module">Relation.Unary</a>

<a id="759" class="Keyword">private</a>
  <a id="769" class="Keyword">variable</a>
    <a id="782" href="Data.Vec.html#782" class="Generalizable">a</a> <a id="784" href="Data.Vec.html#784" class="Generalizable">p</a> <a id="786" class="Symbol">:</a> <a id="788" href="Agda.Primitive.html#408" class="Postulate">Level</a>
    <a id="798" href="Data.Vec.html#798" class="Generalizable">A</a> <a id="800" class="Symbol">:</a> <a id="802" class="PrimitiveType">Set</a> <a id="806" href="Data.Vec.html#782" class="Generalizable">a</a>

<a id="809" class="Comment">------------------------------------------------------------------------</a>
<a id="882" class="Comment">-- Publicly re-export the contents of the base module</a>

<a id="937" class="Keyword">open</a> <a id="942" class="Keyword">import</a> <a id="949" href="Data.Vec.Base.html" class="Module">Data.Vec.Base</a> <a id="963" class="Keyword">public</a>

<a id="971" class="Comment">------------------------------------------------------------------------</a>
<a id="1044" class="Comment">-- Additional operations</a>

<a id="1070" class="Keyword">module</a> <a id="1077" href="Data.Vec.html#1077" class="Module">_</a> <a id="1079" class="Symbol">{</a><a id="1080" href="Data.Vec.html#1080" class="Bound">P</a> <a id="1082" class="Symbol">:</a> <a id="1084" href="Data.Vec.html#798" class="Generalizable">A</a> <a id="1086" class="Symbol">→</a> <a id="1088" class="PrimitiveType">Set</a> <a id="1092" href="Data.Vec.html#784" class="Generalizable">p</a><a id="1093" class="Symbol">}</a> <a id="1095" class="Symbol">(</a><a id="1096" href="Data.Vec.html#1096" class="Bound">P?</a> <a id="1099" class="Symbol">:</a> <a id="1101" href="Relation.Unary.html#3479" class="Function">Decidable</a> <a id="1111" href="Data.Vec.html#1080" class="Bound">P</a><a id="1112" class="Symbol">)</a> <a id="1114" class="Keyword">where</a>

  <a id="1123" href="Data.Vec.html#1123" class="Function">filter</a> <a id="1130" class="Symbol">:</a> <a id="1132" class="Symbol">∀</a> <a id="1134" class="Symbol">{</a><a id="1135" href="Data.Vec.html#1135" class="Bound">n</a><a id="1136" class="Symbol">}</a> <a id="1138" class="Symbol">→</a> <a id="1140" href="Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="1144" href="Data.Vec.html#1084" class="Bound">A</a> <a id="1146" href="Data.Vec.html#1135" class="Bound">n</a> <a id="1148" class="Symbol">→</a> <a id="1150" href="Data.Vec.Bounded.Base.html#852" class="Record">Vec≤</a> <a id="1155" href="Data.Vec.html#1084" class="Bound">A</a> <a id="1157" href="Data.Vec.html#1135" class="Bound">n</a>
  <a id="1161" href="Data.Vec.html#1123" class="Function">filter</a> <a id="1168" href="Data.Vec.Base.html#971" class="InductiveConstructor">[]</a>       <a id="1177" class="Symbol">=</a> <a id="1179" href="Data.Vec.Bounded.Base.html#1251" class="Function">Vec≤.[]</a>
  <a id="1189" href="Data.Vec.html#1123" class="Function">filter</a> <a id="1196" class="Symbol">(</a><a id="1197" href="Data.Vec.html#1197" class="Bound">a</a> <a id="1199" href="Data.Vec.Base.html#990" class="InductiveConstructor Operator">∷</a> <a id="1201" href="Data.Vec.html#1201" class="Bound">as</a><a id="1203" class="Symbol">)</a> <a id="1205" class="Keyword">with</a> <a id="1210" href="Data.Vec.html#1096" class="Bound">P?</a> <a id="1213" href="Data.Vec.html#1197" class="Bound">a</a>
  <a id="1217" class="Symbol">...</a> <a id="1221" class="Symbol">|</a> <a id="1223" href="Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="1227" href="Data.Vec.html#1227" class="Bound">p</a> <a id="1229" class="Symbol">=</a> <a id="1231" class="Bound">a</a> <a id="1233" href="Data.Vec.Bounded.Base.html#1305" class="Function Operator">Vec≤.∷</a> <a id="1240" href="Data.Vec.html#1123" class="Function">filter</a> <a id="1247" class="Bound">as</a>
  <a id="1252" class="Symbol">...</a> <a id="1256" class="Symbol">|</a> <a id="1258" href="Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="1261" href="Data.Vec.html#1261" class="Bound">¬p</a> <a id="1264" class="Symbol">=</a> <a id="1266" href="Data.Vec.Bounded.Base.html#1484" class="Function">≤-cast</a> <a id="1273" class="Symbol">(</a><a id="1274" href="Data.Nat.Properties.html#6288" class="Function">ℕₚ.n≤1+n</a> <a id="1283" class="Symbol">_)</a> <a id="1286" class="Symbol">(</a><a id="1287" href="Data.Vec.html#1123" class="Function">filter</a> <a id="1294" class="Bound">as</a><a id="1296" class="Symbol">)</a>

  <a id="1301" href="Data.Vec.html#1301" class="Function">takeWhile</a> <a id="1311" class="Symbol">:</a> <a id="1313" class="Symbol">∀</a> <a id="1315" class="Symbol">{</a><a id="1316" href="Data.Vec.html#1316" class="Bound">n</a><a id="1317" class="Symbol">}</a> <a id="1319" class="Symbol">→</a> <a id="1321" href="Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="1325" href="Data.Vec.html#1084" class="Bound">A</a> <a id="1327" href="Data.Vec.html#1316" class="Bound">n</a> <a id="1329" class="Symbol">→</a> <a id="1331" href="Data.Vec.Bounded.Base.html#852" class="Record">Vec≤</a> <a id="1336" href="Data.Vec.html#1084" class="Bound">A</a> <a id="1338" href="Data.Vec.html#1316" class="Bound">n</a>
  <a id="1342" href="Data.Vec.html#1301" class="Function">takeWhile</a> <a id="1352" href="Data.Vec.Base.html#971" class="InductiveConstructor">[]</a>       <a id="1361" class="Symbol">=</a> <a id="1363" href="Data.Vec.Bounded.Base.html#1251" class="Function">Vec≤.[]</a>
  <a id="1373" href="Data.Vec.html#1301" class="Function">takeWhile</a> <a id="1383" class="Symbol">(</a><a id="1384" href="Data.Vec.html#1384" class="Bound">a</a> <a id="1386" href="Data.Vec.Base.html#990" class="InductiveConstructor Operator">∷</a> <a id="1388" href="Data.Vec.html#1388" class="Bound">as</a><a id="1390" class="Symbol">)</a> <a id="1392" class="Keyword">with</a> <a id="1397" href="Data.Vec.html#1096" class="Bound">P?</a> <a id="1400" href="Data.Vec.html#1384" class="Bound">a</a>
  <a id="1404" class="Symbol">...</a> <a id="1408" class="Symbol">|</a> <a id="1410" href="Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="1414" href="Data.Vec.html#1414" class="Bound">p</a> <a id="1416" class="Symbol">=</a> <a id="1418" class="Bound">a</a> <a id="1420" href="Data.Vec.Bounded.Base.html#1305" class="Function Operator">Vec≤.∷</a> <a id="1427" href="Data.Vec.html#1301" class="Function">takeWhile</a> <a id="1437" class="Bound">as</a>
  <a id="1442" class="Symbol">...</a> <a id="1446" class="Symbol">|</a> <a id="1448" href="Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="1451" href="Data.Vec.html#1451" class="Bound">¬p</a> <a id="1454" class="Symbol">=</a> <a id="1456" href="Data.Vec.Bounded.Base.html#1251" class="Function">Vec≤.[]</a>

  <a id="1467" href="Data.Vec.html#1467" class="Function">dropWhile</a> <a id="1477" class="Symbol">:</a> <a id="1479" class="Symbol">∀</a> <a id="1481" class="Symbol">{</a><a id="1482" href="Data.Vec.html#1482" class="Bound">n</a><a id="1483" class="Symbol">}</a> <a id="1485" class="Symbol">→</a> <a id="1487" href="Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="1491" href="Data.Vec.html#1084" class="Bound">A</a> <a id="1493" href="Data.Vec.html#1482" class="Bound">n</a> <a id="1495" class="Symbol">→</a> <a id="1497" href="Data.Vec.Bounded.Base.html#852" class="Record">Vec≤</a> <a id="1502" href="Data.Vec.html#1084" class="Bound">A</a> <a id="1504" href="Data.Vec.html#1482" class="Bound">n</a>
  <a id="1508" href="Data.Vec.html#1467" class="Function">dropWhile</a> <a id="1518" href="Data.Vec.Base.html#971" class="InductiveConstructor">Vec.[]</a>       <a id="1531" class="Symbol">=</a> <a id="1533" href="Data.Vec.Bounded.Base.html#1251" class="Function">Vec≤.[]</a>
  <a id="1543" href="Data.Vec.html#1467" class="Function">dropWhile</a> <a id="1553" class="Symbol">(</a><a id="1554" href="Data.Vec.html#1554" class="Bound">a</a> <a id="1556" href="Data.Vec.Base.html#990" class="InductiveConstructor Operator">Vec.∷</a> <a id="1562" href="Data.Vec.html#1562" class="Bound">as</a><a id="1564" class="Symbol">)</a> <a id="1566" class="Keyword">with</a> <a id="1571" href="Data.Vec.html#1096" class="Bound">P?</a> <a id="1574" href="Data.Vec.html#1554" class="Bound">a</a>
  <a id="1578" class="Symbol">...</a> <a id="1582" class="Symbol">|</a> <a id="1584" href="Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="1588" href="Data.Vec.html#1588" class="Bound">p</a> <a id="1590" class="Symbol">=</a> <a id="1592" href="Data.Vec.Bounded.Base.html#1484" class="Function">≤-cast</a> <a id="1599" class="Symbol">(</a><a id="1600" href="Data.Nat.Properties.html#6288" class="Function">ℕₚ.n≤1+n</a> <a id="1609" class="Symbol">_)</a> <a id="1612" class="Symbol">(</a><a id="1613" href="Data.Vec.html#1467" class="Function">dropWhile</a> <a id="1623" class="Bound">as</a><a id="1625" class="Symbol">)</a>
  <a id="1629" class="Symbol">...</a> <a id="1633" class="Symbol">|</a> <a id="1635" href="Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="1638" href="Data.Vec.html#1638" class="Bound">¬p</a> <a id="1641" class="Symbol">=</a> <a id="1643" href="Data.Vec.Bounded.Base.html#1096" class="Function">fromVec</a> <a id="1651" class="Symbol">(</a><a id="1652" class="Bound">a</a> <a id="1654" href="Data.Vec.Base.html#990" class="InductiveConstructor Operator">Vec.∷</a> <a id="1660" class="Bound">as</a><a id="1662" class="Symbol">)</a>
</pre></body></html>