<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.String</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Strings</a>
<a id="117" class="Comment">------------------------------------------------------------------------</a>

<a id="191" class="Keyword">module</a> <a id="198" href="Data.String.html" class="Module">Data.String</a> <a id="210" class="Keyword">where</a>

<a id="217" class="Keyword">open</a> <a id="222" class="Keyword">import</a> <a id="229" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="244" class="Symbol">as</a> <a id="247" class="Module">List</a> <a id="252" class="Keyword">using</a> <a id="258" class="Symbol">(</a><a id="259" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">_∷_</a><a id="262" class="Symbol">;</a> <a id="264" href="Data.List.Base.html#8019" class="InductiveConstructor">[]</a><a id="266" class="Symbol">;</a> <a id="268" href="Agda.Builtin.List.html#80" class="Datatype">List</a><a id="272" class="Symbol">)</a>
<a id="274" class="Keyword">open</a> <a id="279" class="Keyword">import</a> <a id="286" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="295" class="Symbol">as</a> <a id="298" class="Module">Vec</a> <a id="302" class="Keyword">using</a> <a id="308" class="Symbol">(</a><a id="309" href="Data.Vec.html#672" class="Datatype">Vec</a><a id="312" class="Symbol">)</a>
<a id="314" class="Keyword">open</a> <a id="319" class="Keyword">import</a> <a id="326" href="Data.Char.html" class="Module">Data.Char</a> <a id="336" class="Symbol">as</a> <a id="339" class="Module">Char</a> <a id="344" class="Keyword">using</a> <a id="350" class="Symbol">(</a><a id="351" href="Agda.Builtin.Char.html#132" class="Postulate">Char</a><a id="355" class="Symbol">)</a>
<a id="357" class="Keyword">open</a> <a id="362" class="Keyword">import</a> <a id="369" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="384" class="Keyword">using</a> <a id="390" class="Symbol">(</a><a id="391" href="Agda.Builtin.Bool.html#67" class="Datatype">Bool</a><a id="395" class="Symbol">;</a> <a id="397" href="Agda.Builtin.Bool.html#92" class="InductiveConstructor">true</a><a id="401" class="Symbol">;</a> <a id="403" href="Agda.Builtin.Bool.html#86" class="InductiveConstructor">false</a><a id="408" class="Symbol">)</a>
<a id="410" class="Keyword">open</a> <a id="415" class="Keyword">import</a> <a id="422" href="Function.html" class="Module">Function</a>
<a id="431" class="Keyword">open</a> <a id="436" class="Keyword">import</a> <a id="443" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>
<a id="460" class="Keyword">open</a> <a id="465" class="Keyword">import</a> <a id="472" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a>
<a id="499" class="Keyword">open</a> <a id="504" class="Keyword">import</a> <a id="511" href="Relation.Binary.html" class="Module">Relation.Binary</a>
<a id="527" class="Keyword">open</a> <a id="532" class="Keyword">import</a> <a id="539" href="Data.List.Relation.Lex.Strict.html" class="Module">Data.List.Relation.Lex.Strict</a> <a id="569" class="Symbol">as</a> <a id="572" class="Module">StrictLex</a>
<a id="582" class="Keyword">import</a> <a id="589" href="Relation.Binary.On.html" class="Module">Relation.Binary.On</a> <a id="608" class="Symbol">as</a> <a id="611" class="Module">On</a>
<a id="614" class="Keyword">open</a> <a id="619" class="Keyword">import</a> <a id="626" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="664" class="Symbol">as</a> <a id="667" class="Module">PropEq</a> <a id="674" class="Keyword">using</a> <a id="680" class="Symbol">(</a><a id="681" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a><a id="684" class="Symbol">)</a>
<a id="686" class="Keyword">open</a> <a id="691" class="Keyword">import</a> <a id="698" href="Relation.Binary.PropositionalEquality.TrustMe.html" class="Module">Relation.Binary.PropositionalEquality.TrustMe</a>

<a id="745" class="Keyword">open</a> <a id="750" class="Keyword">import</a> <a id="757" href="Data.String.Base.html" class="Module">Data.String.Base</a> <a id="774" class="Keyword">public</a>

<a id="782" class="Comment">------------------------------------------------------------------------</a>
<a id="855" class="Comment">-- Operations</a>

<a id="toVec"></a><a id="870" href="Data.String.html#870" class="Function">toVec</a> <a id="876" class="Symbol">:</a> <a id="878" class="Symbol">(</a><a id="879" href="Data.String.html#879" class="Bound">s</a> <a id="881" class="Symbol">:</a> <a id="883" href="Agda.Builtin.String.html#165" class="Postulate">String</a><a id="889" class="Symbol">)</a> <a id="891" class="Symbol">→</a> <a id="893" href="Data.Vec.html#672" class="Datatype">Vec</a> <a id="897" href="Agda.Builtin.Char.html#132" class="Postulate">Char</a> <a id="902" class="Symbol">(</a><a id="903" href="Data.List.Base.html#3242" class="Function">List.length</a> <a id="915" class="Symbol">(</a><a id="916" href="Data.String.Base.html#947" class="Function">toList</a> <a id="923" href="Data.String.html#879" class="Bound">s</a><a id="924" class="Symbol">))</a>
<a id="927" href="Data.String.html#870" class="Function">toVec</a> <a id="933" href="Data.String.html#933" class="Bound">s</a> <a id="935" class="Symbol">=</a> <a id="937" href="Data.Vec.html#6726" class="Function">Vec.fromList</a> <a id="950" class="Symbol">(</a><a id="951" href="Data.String.Base.html#947" class="Function">toList</a> <a id="958" href="Data.String.html#933" class="Bound">s</a><a id="959" class="Symbol">)</a>

<a id="962" class="Comment">-- Informative equality test.</a>

<a id="993" class="Keyword">infix</a> <a id="999" class="Number">4</a> <a id="1001" href="Data.String.html#1006" class="Function Operator">_≟_</a>

<a id="_≟_"></a><a id="1006" href="Data.String.html#1006" class="Function Operator">_≟_</a> <a id="1010" class="Symbol">:</a> <a id="1012" href="Relation.Binary.Core.html#4499" class="Function">Decidable</a> <a id="1022" class="Symbol">{</a><a id="1023" class="Argument">A</a> <a id="1025" class="Symbol">=</a> <a id="1027" href="Agda.Builtin.String.html#165" class="Postulate">String</a><a id="1033" class="Symbol">}</a> <a id="1035" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a>
<a id="1039" href="Data.String.html#1039" class="Bound">s₁</a> <a id="1042" href="Data.String.html#1006" class="Function Operator">≟</a> <a id="1044" href="Data.String.html#1044" class="Bound">s₂</a> <a id="1047" class="Keyword">with</a> <a id="1052" href="Agda.Builtin.String.html#353" class="Primitive">primStringEquality</a> <a id="1071" href="Data.String.html#1039" class="Bound">s₁</a> <a id="1074" href="Data.String.html#1044" class="Bound">s₂</a>
<a id="1077" class="Symbol">...</a> <a id="1081" class="Symbol">|</a> <a id="1083" href="Agda.Builtin.Bool.html#92" class="InductiveConstructor">true</a>  <a id="1089" class="Symbol">=</a> <a id="1091" href="Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="1095" href="Relation.Binary.PropositionalEquality.TrustMe.html#518" class="Function">trustMe</a>
<a id="1103" class="Symbol">...</a> <a id="1107" class="Symbol">|</a> <a id="1109" href="Agda.Builtin.Bool.html#86" class="InductiveConstructor">false</a> <a id="1115" class="Symbol">=</a> <a id="1117" href="Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="1120" href="Data.String.html#1147" class="Postulate">whatever</a>
  <a id="1131" class="Keyword">where</a> <a id="1137" class="Keyword">postulate</a> <a id="1147" href="Data.String.html#1147" class="Postulate">whatever</a> <a id="1156" class="Symbol">:</a> <a id="1158" class="Symbol">_</a>

<a id="1161" class="Comment">-- Boolean equality test.</a>
<a id="1187" class="Comment">--</a>
<a id="1190" class="Comment">-- Why is the definition _==_ = primStringEquality not used? One</a>
<a id="1255" class="Comment">-- reason is that the present definition can sometimes improve type</a>
<a id="1323" class="Comment">-- inference, at least with the version of Agda that is current at the</a>
<a id="1394" class="Comment">-- time of writing: see unit-test below.</a>

<a id="1436" class="Keyword">infix</a> <a id="1442" class="Number">4</a> <a id="1444" href="Data.String.html#1450" class="Function Operator">_==_</a>

<a id="_==_"></a><a id="1450" href="Data.String.html#1450" class="Function Operator">_==_</a> <a id="1455" class="Symbol">:</a> <a id="1457" href="Agda.Builtin.String.html#165" class="Postulate">String</a> <a id="1464" class="Symbol">→</a> <a id="1466" href="Agda.Builtin.String.html#165" class="Postulate">String</a> <a id="1473" class="Symbol">→</a> <a id="1475" href="Agda.Builtin.Bool.html#67" class="Datatype">Bool</a>
<a id="1480" href="Data.String.html#1480" class="Bound">s₁</a> <a id="1483" href="Data.String.html#1450" class="Function Operator">==</a> <a id="1486" href="Data.String.html#1486" class="Bound">s₂</a> <a id="1489" class="Symbol">=</a> <a id="1491" href="Relation.Nullary.Decidable.html#822" class="Function Operator">⌊</a> <a id="1493" href="Data.String.html#1480" class="Bound">s₁</a> <a id="1496" href="Data.String.html#1006" class="Function Operator">≟</a> <a id="1498" href="Data.String.html#1486" class="Bound">s₂</a> <a id="1501" href="Relation.Nullary.Decidable.html#822" class="Function Operator">⌋</a>

<a id="1504" class="Keyword">private</a>

  <a id="1515" class="Comment">-- The following unit test does not type-check (at the time of</a>
  <a id="1580" class="Comment">-- writing) if _==_ is replaced by primStringEquality.</a>

  <a id="1638" class="Keyword">data</a> <a id="P"></a><a id="1643" href="Data.String.html#1643" class="Datatype">P</a> <a id="1645" class="Symbol">:</a> <a id="1647" class="Symbol">(</a><a id="1648" href="Agda.Builtin.String.html#165" class="Postulate">String</a> <a id="1655" class="Symbol">→</a> <a id="1657" href="Agda.Builtin.Bool.html#67" class="Datatype">Bool</a><a id="1661" class="Symbol">)</a> <a id="1663" class="Symbol">→</a> <a id="1665" class="PrimitiveType">Set</a> <a id="1669" class="Keyword">where</a>
    <a id="P.p"></a><a id="1679" href="Data.String.html#1679" class="InductiveConstructor">p</a> <a id="1681" class="Symbol">:</a> <a id="1683" class="Symbol">(</a><a id="1684" href="Data.String.html#1684" class="Bound">c</a> <a id="1686" class="Symbol">:</a> <a id="1688" href="Agda.Builtin.String.html#165" class="Postulate">String</a><a id="1694" class="Symbol">)</a> <a id="1696" class="Symbol">→</a> <a id="1698" href="Data.String.html#1643" class="Datatype">P</a> <a id="1700" class="Symbol">(</a><a id="1701" href="Data.String.html#1450" class="Function Operator">_==_</a> <a id="1706" href="Data.String.html#1684" class="Bound">c</a><a id="1707" class="Symbol">)</a>

  <a id="unit-test"></a><a id="1712" href="Data.String.html#1712" class="Function">unit-test</a> <a id="1722" class="Symbol">:</a> <a id="1724" href="Data.String.html#1643" class="Datatype">P</a> <a id="1726" class="Symbol">(</a><a id="1727" href="Data.String.html#1450" class="Function Operator">_==_</a> <a id="1732" class="String">&quot;&quot;</a><a id="1734" class="Symbol">)</a>
  <a id="1738" href="Data.String.html#1712" class="Function">unit-test</a> <a id="1748" class="Symbol">=</a> <a id="1750" href="Data.String.html#1679" class="InductiveConstructor">p</a> <a id="1752" class="Symbol">_</a>

<a id="setoid"></a><a id="1755" href="Data.String.html#1755" class="Function">setoid</a> <a id="1762" class="Symbol">:</a> <a id="1764" href="Relation.Binary.html#1943" class="Record">Setoid</a> <a id="1771" class="Symbol">_</a> <a id="1773" class="Symbol">_</a>
<a id="1775" href="Data.String.html#1755" class="Function">setoid</a> <a id="1782" class="Symbol">=</a> <a id="1784" href="Relation.Binary.PropositionalEquality.html#1459" class="Function">PropEq.setoid</a> <a id="1798" href="Agda.Builtin.String.html#165" class="Postulate">String</a>

<a id="decSetoid"></a><a id="1806" href="Data.String.html#1806" class="Function">decSetoid</a> <a id="1816" class="Symbol">:</a> <a id="1818" href="Relation.Binary.html#3012" class="Record">DecSetoid</a> <a id="1828" class="Symbol">_</a> <a id="1830" class="Symbol">_</a>
<a id="1832" href="Data.String.html#1806" class="Function">decSetoid</a> <a id="1842" class="Symbol">=</a> <a id="1844" href="Relation.Binary.PropositionalEquality.html#1598" class="Function">PropEq.decSetoid</a> <a id="1861" href="Data.String.html#1006" class="Function Operator">_≟_</a>

<a id="1866" class="Comment">-- Lexicographic ordering of strings.</a>

<a id="strictTotalOrder"></a><a id="1905" href="Data.String.html#1905" class="Function">strictTotalOrder</a> <a id="1922" class="Symbol">:</a> <a id="1924" href="Relation.Binary.html#11275" class="Record">StrictTotalOrder</a> <a id="1941" class="Symbol">_</a> <a id="1943" class="Symbol">_</a> <a id="1945" class="Symbol">_</a>
<a id="1947" href="Data.String.html#1905" class="Function">strictTotalOrder</a> <a id="1964" class="Symbol">=</a>
  <a id="1968" href="Relation.Binary.On.html#7015" class="Function">On.strictTotalOrder</a>
    <a id="1992" class="Symbol">(</a><a id="1993" href="Data.List.Relation.Lex.Strict.html#4757" class="Function">StrictLex.&lt;-strictTotalOrder</a> <a id="2022" href="Data.Char.html#1755" class="Function">Char.strictTotalOrder</a><a id="2043" class="Symbol">)</a>
    <a id="2049" href="Data.String.Base.html#947" class="Function">toList</a>
</pre></body></html>