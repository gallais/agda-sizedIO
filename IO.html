<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
><head
  ><title
    >IO</title
    ><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"
     /><meta http-equiv="Content-Style-Type" content="text/css"
     /><link href="Agda.css" rel="stylesheet" type="text/css"
     /></head
  ><body
  ><pre
    ><a name="1" class="Comment"
      >------------------------------------------------------------------------</a
      >
<a name="74" class="Comment"
      >-- The Agda standard library</a
      >
<a name="103" class="Comment"
      >--</a
      >
<a name="106" class="Comment"
      >-- IO</a
      >
<a name="112" class="Comment"
      >------------------------------------------------------------------------</a
      >

<a name="186" class="Keyword"
      >module</a
      > <a name="193" href="IO.html" class="Module"
      >IO</a
      > <a name="196" class="Keyword"
      >where</a
      >

<a name="203" class="Keyword"
      >open</a
      > <a name="208" class="Keyword"
      >import</a
      > <a name="215" href="Coinduction.html" class="Module"
      >Coinduction</a
      >
<a name="227" class="Keyword"
      >open</a
      > <a name="232" class="Keyword"
      >import</a
      > <a name="239" href="Data.Unit.html" class="Module"
      >Data.Unit</a
      >
<a name="249" class="Keyword"
      >open</a
      > <a name="254" class="Keyword"
      >import</a
      > <a name="261" href="Data.String.html" class="Module"
      >Data.String</a
      >
<a name="273" class="Keyword"
      >open</a
      > <a name="278" class="Keyword"
      >import</a
      > <a name="285" href="Data.Colist.html" class="Module"
      >Data.Colist</a
      >
<a name="297" class="Keyword"
      >open</a
      > <a name="302" class="Keyword"
      >import</a
      > <a name="309" href="Function.html" class="Module"
      >Function</a
      >
<a name="318" class="Keyword"
      >import</a
      > <a name="325" href="IO.Primitive.html" class="Module"
      >IO.Primitive</a
      > <a name="338" class="Symbol"
      >as</a
      > <a name="341" class="Module"
      >Prim</a
      >
<a name="346" class="Keyword"
      >open</a
      > <a name="351" class="Keyword"
      >import</a
      > <a name="358" href="Level.html" class="Module"
      >Level</a
      >

<a name="365" class="Comment"
      >------------------------------------------------------------------------</a
      >
<a name="438" class="Comment"
      >-- The IO monad</a
      >

<a name="455" class="Comment"
      >-- One cannot write &quot;infinitely large&quot; computations with the</a
      >
<a name="516" class="Comment"
      >-- postulated IO monad in IO.Primitive without turning off the</a
      >
<a name="579" class="Comment"
      >-- termination checker (or going via the FFI, or perhaps abusing</a
      >
<a name="644" class="Comment"
      >-- something else). The following coinductive deep embedding is</a
      >
<a name="708" class="Comment"
      >-- introduced to avoid this problem. Possible non-termination is</a
      >
<a name="773" class="Comment"
      >-- isolated to the run function below.</a
      >

<a name="813" class="Keyword"
      >infixl</a
      > <a name="820" class="Number"
      >1</a
      > <a name="822" href="IO.html#IO._&gt;&gt;=_" class="InductiveConstructor Operator"
      >_&gt;&gt;=_</a
      > <a name="828" href="IO.html#IO._&gt;&gt;_" class="InductiveConstructor Operator"
      >_&gt;&gt;_</a
      >

<a name="834" class="Keyword"
      >data</a
      > <a name="IO" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="842" class="Symbol"
      >{</a
      ><a name="843" href="IO.html#843" class="Bound"
      >a</a
      ><a name="844" class="Symbol"
      >}</a
      > <a name="846" class="Symbol"
      >(</a
      ><a name="847" href="IO.html#847" class="Bound"
      >A</a
      > <a name="849" class="Symbol"
      >:</a
      > <a name="851" class="PrimitiveType"
      >Set</a
      > <a name="855" href="IO.html#843" class="Bound"
      >a</a
      ><a name="856" class="Symbol"
      >)</a
      > <a name="858" class="Symbol"
      >:</a
      > <a name="860" class="PrimitiveType"
      >Set</a
      > <a name="864" class="Symbol"
      >(</a
      ><a name="865" href="Agda.Primitive.html#suc" class="Primitive"
      >suc</a
      > <a name="869" href="IO.html#843" class="Bound"
      >a</a
      ><a name="870" class="Symbol"
      >)</a
      > <a name="872" class="Keyword"
      >where</a
      >
  <a name="IO.lift" href="IO.html#IO.lift" class="InductiveConstructor"
      >lift</a
      >   <a name="887" class="Symbol"
      >:</a
      > <a name="889" class="Symbol"
      >(</a
      ><a name="890" href="IO.html#890" class="Bound"
      >m</a
      > <a name="892" class="Symbol"
      >:</a
      > <a name="894" href="Agda.Builtin.IO.html#IO" class="Postulate"
      >Prim.IO</a
      > <a name="902" href="IO.html#847" class="Bound"
      >A</a
      ><a name="903" class="Symbol"
      >)</a
      > <a name="905" class="Symbol"
      >&#8594;</a
      > <a name="907" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="910" href="IO.html#847" class="Bound"
      >A</a
      >
  <a name="IO.return" href="IO.html#IO.return" class="InductiveConstructor"
      >return</a
      > <a name="921" class="Symbol"
      >:</a
      > <a name="923" class="Symbol"
      >(</a
      ><a name="924" href="IO.html#924" class="Bound"
      >x</a
      > <a name="926" class="Symbol"
      >:</a
      > <a name="928" href="IO.html#847" class="Bound"
      >A</a
      ><a name="929" class="Symbol"
      >)</a
      > <a name="931" class="Symbol"
      >&#8594;</a
      > <a name="933" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="936" href="IO.html#847" class="Bound"
      >A</a
      >
  <a name="IO._&gt;&gt;=_" href="IO.html#IO._&gt;&gt;=_" class="InductiveConstructor Operator"
      >_&gt;&gt;=_</a
      >  <a name="947" class="Symbol"
      >:</a
      > <a name="949" class="Symbol"
      >{</a
      ><a name="950" href="IO.html#950" class="Bound"
      >B</a
      > <a name="952" class="Symbol"
      >:</a
      > <a name="954" class="PrimitiveType"
      >Set</a
      > <a name="958" href="IO.html#843" class="Bound"
      >a</a
      ><a name="959" class="Symbol"
      >}</a
      > <a name="961" class="Symbol"
      >(</a
      ><a name="962" href="IO.html#962" class="Bound"
      >m</a
      > <a name="964" class="Symbol"
      >:</a
      > <a name="966" href="Agda.Builtin.Coinduction.html#&#8734;" class="Record"
      >&#8734;</a
      > <a name="968" class="Symbol"
      >(</a
      ><a name="969" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="972" href="IO.html#950" class="Bound"
      >B</a
      ><a name="973" class="Symbol"
      >))</a
      > <a name="976" class="Symbol"
      >(</a
      ><a name="977" href="IO.html#977" class="Bound"
      >f</a
      > <a name="979" class="Symbol"
      >:</a
      > <a name="981" class="Symbol"
      >(</a
      ><a name="982" href="IO.html#982" class="Bound"
      >x</a
      > <a name="984" class="Symbol"
      >:</a
      > <a name="986" href="IO.html#950" class="Bound"
      >B</a
      ><a name="987" class="Symbol"
      >)</a
      > <a name="989" class="Symbol"
      >&#8594;</a
      > <a name="991" href="Agda.Builtin.Coinduction.html#&#8734;" class="Record"
      >&#8734;</a
      > <a name="993" class="Symbol"
      >(</a
      ><a name="994" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="997" href="IO.html#847" class="Bound"
      >A</a
      ><a name="998" class="Symbol"
      >))</a
      > <a name="1001" class="Symbol"
      >&#8594;</a
      > <a name="1003" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="1006" href="IO.html#847" class="Bound"
      >A</a
      >
  <a name="IO._&gt;&gt;_" href="IO.html#IO._&gt;&gt;_" class="InductiveConstructor Operator"
      >_&gt;&gt;_</a
      >   <a name="1017" class="Symbol"
      >:</a
      > <a name="1019" class="Symbol"
      >{</a
      ><a name="1020" href="IO.html#1020" class="Bound"
      >B</a
      > <a name="1022" class="Symbol"
      >:</a
      > <a name="1024" class="PrimitiveType"
      >Set</a
      > <a name="1028" href="IO.html#843" class="Bound"
      >a</a
      ><a name="1029" class="Symbol"
      >}</a
      > <a name="1031" class="Symbol"
      >(</a
      ><a name="1032" href="IO.html#1032" class="Bound"
      >m&#8321;</a
      > <a name="1035" class="Symbol"
      >:</a
      > <a name="1037" href="Agda.Builtin.Coinduction.html#&#8734;" class="Record"
      >&#8734;</a
      > <a name="1039" class="Symbol"
      >(</a
      ><a name="1040" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="1043" href="IO.html#1020" class="Bound"
      >B</a
      ><a name="1044" class="Symbol"
      >))</a
      > <a name="1047" class="Symbol"
      >(</a
      ><a name="1048" href="IO.html#1048" class="Bound"
      >m&#8322;</a
      > <a name="1051" class="Symbol"
      >:</a
      > <a name="1053" href="Agda.Builtin.Coinduction.html#&#8734;" class="Record"
      >&#8734;</a
      > <a name="1055" class="Symbol"
      >(</a
      ><a name="1056" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="1059" href="IO.html#847" class="Bound"
      >A</a
      ><a name="1060" class="Symbol"
      >))</a
      > <a name="1063" class="Symbol"
      >&#8594;</a
      > <a name="1065" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="1068" href="IO.html#847" class="Bound"
      >A</a
      >

<a name="1071" class="Symbol"
      >{-#</a
      > <a name="1075" class="Keyword"
      >NON_TERMINATING</a
      > <a name="1091" class="Symbol"
      >#-}</a
      >

<a name="run" href="IO.html#run" class="Function"
      >run</a
      > <a name="1100" class="Symbol"
      >:</a
      > <a name="1102" class="Symbol"
      >&#8704;</a
      > <a name="1104" class="Symbol"
      >{</a
      ><a name="1105" href="IO.html#1105" class="Bound"
      >a</a
      ><a name="1106" class="Symbol"
      >}</a
      > <a name="1108" class="Symbol"
      >{</a
      ><a name="1109" href="IO.html#1109" class="Bound"
      >A</a
      > <a name="1111" class="Symbol"
      >:</a
      > <a name="1113" class="PrimitiveType"
      >Set</a
      > <a name="1117" href="IO.html#1105" class="Bound"
      >a</a
      ><a name="1118" class="Symbol"
      >}</a
      > <a name="1120" class="Symbol"
      >&#8594;</a
      > <a name="1122" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="1125" href="IO.html#1109" class="Bound"
      >A</a
      > <a name="1127" class="Symbol"
      >&#8594;</a
      > <a name="1129" href="Agda.Builtin.IO.html#IO" class="Postulate"
      >Prim.IO</a
      > <a name="1137" href="IO.html#1109" class="Bound"
      >A</a
      >
<a name="1139" href="IO.html#run" class="Function"
      >run</a
      > <a name="1143" class="Symbol"
      >(</a
      ><a name="1144" href="IO.html#IO.lift" class="InductiveConstructor"
      >lift</a
      > <a name="1149" href="IO.html#1149" class="Bound"
      >m</a
      ><a name="1150" class="Symbol"
      >)</a
      >   <a name="1154" class="Symbol"
      >=</a
      > <a name="1156" href="IO.html#1149" class="Bound"
      >m</a
      >
<a name="1158" href="IO.html#run" class="Function"
      >run</a
      > <a name="1162" class="Symbol"
      >(</a
      ><a name="1163" href="IO.html#IO.return" class="InductiveConstructor"
      >return</a
      > <a name="1170" href="IO.html#1170" class="Bound"
      >x</a
      ><a name="1171" class="Symbol"
      >)</a
      > <a name="1173" class="Symbol"
      >=</a
      > <a name="1175" href="IO.Primitive.html#return" class="Postulate"
      >Prim.return</a
      > <a name="1187" href="IO.html#1170" class="Bound"
      >x</a
      >
<a name="1189" href="IO.html#run" class="Function"
      >run</a
      > <a name="1193" class="Symbol"
      >(</a
      ><a name="1194" href="IO.html#1194" class="Bound"
      >m</a
      >  <a name="1197" href="IO.html#IO._&gt;&gt;=_" class="InductiveConstructor Operator"
      >&gt;&gt;=</a
      > <a name="1201" href="IO.html#1201" class="Bound"
      >f</a
      ><a name="1202" class="Symbol"
      >)</a
      > <a name="1204" class="Symbol"
      >=</a
      > <a name="1206" href="IO.Primitive.html#_&gt;&gt;=_" class="Postulate Operator"
      >Prim._&gt;&gt;=_</a
      > <a name="1217" class="Symbol"
      >(</a
      ><a name="1218" href="IO.html#run" class="Function"
      >run</a
      > <a name="1222" class="Symbol"
      >(</a
      ><a name="1223" href="Agda.Builtin.Coinduction.html#&#9837;" class="Field"
      >&#9837;</a
      > <a name="1225" href="IO.html#1194" class="Bound"
      >m</a
      > <a name="1227" class="Symbol"
      >))</a
      > <a name="1230" class="Symbol"
      >&#955;</a
      > <a name="1232" href="IO.html#1232" class="Bound"
      >x</a
      > <a name="1234" class="Symbol"
      >&#8594;</a
      > <a name="1236" href="IO.html#run" class="Function"
      >run</a
      > <a name="1240" class="Symbol"
      >(</a
      ><a name="1241" href="Agda.Builtin.Coinduction.html#&#9837;" class="Field"
      >&#9837;</a
      > <a name="1243" class="Symbol"
      >(</a
      ><a name="1244" href="IO.html#1201" class="Bound"
      >f</a
      > <a name="1246" href="IO.html#1232" class="Bound"
      >x</a
      ><a name="1247" class="Symbol"
      >))</a
      >
<a name="1250" href="IO.html#run" class="Function"
      >run</a
      > <a name="1254" class="Symbol"
      >(</a
      ><a name="1255" href="IO.html#1255" class="Bound"
      >m&#8321;</a
      > <a name="1258" href="IO.html#IO._&gt;&gt;_" class="InductiveConstructor Operator"
      >&gt;&gt;</a
      > <a name="1261" href="IO.html#1261" class="Bound"
      >m&#8322;</a
      ><a name="1263" class="Symbol"
      >)</a
      > <a name="1265" class="Symbol"
      >=</a
      > <a name="1267" href="IO.Primitive.html#_&gt;&gt;=_" class="Postulate Operator"
      >Prim._&gt;&gt;=_</a
      > <a name="1278" class="Symbol"
      >(</a
      ><a name="1279" href="IO.html#run" class="Function"
      >run</a
      > <a name="1283" class="Symbol"
      >(</a
      ><a name="1284" href="Agda.Builtin.Coinduction.html#&#9837;" class="Field"
      >&#9837;</a
      > <a name="1286" href="IO.html#1255" class="Bound"
      >m&#8321;</a
      ><a name="1288" class="Symbol"
      >))</a
      > <a name="1291" class="Symbol"
      >&#955;</a
      > <a name="1293" href="IO.html#1293" class="Bound"
      >_</a
      > <a name="1295" class="Symbol"
      >&#8594;</a
      > <a name="1297" href="IO.html#run" class="Function"
      >run</a
      > <a name="1301" class="Symbol"
      >(</a
      ><a name="1302" href="Agda.Builtin.Coinduction.html#&#9837;" class="Field"
      >&#9837;</a
      > <a name="1304" href="IO.html#1261" class="Bound"
      >m&#8322;</a
      ><a name="1306" class="Symbol"
      >)</a
      >

<a name="1309" class="Comment"
      >------------------------------------------------------------------------</a
      >
<a name="1382" class="Comment"
      >-- Utilities</a
      >

<a name="sequence" href="IO.html#sequence" class="Function"
      >sequence</a
      > <a name="1405" class="Symbol"
      >:</a
      > <a name="1407" class="Symbol"
      >&#8704;</a
      > <a name="1409" class="Symbol"
      >{</a
      ><a name="1410" href="IO.html#1410" class="Bound"
      >a</a
      ><a name="1411" class="Symbol"
      >}</a
      > <a name="1413" class="Symbol"
      >{</a
      ><a name="1414" href="IO.html#1414" class="Bound"
      >A</a
      > <a name="1416" class="Symbol"
      >:</a
      > <a name="1418" class="PrimitiveType"
      >Set</a
      > <a name="1422" href="IO.html#1410" class="Bound"
      >a</a
      ><a name="1423" class="Symbol"
      >}</a
      > <a name="1425" class="Symbol"
      >&#8594;</a
      > <a name="1427" href="Data.Colist.html#Colist" class="Datatype"
      >Colist</a
      > <a name="1434" class="Symbol"
      >(</a
      ><a name="1435" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="1438" href="IO.html#1414" class="Bound"
      >A</a
      ><a name="1439" class="Symbol"
      >)</a
      > <a name="1441" class="Symbol"
      >&#8594;</a
      > <a name="1443" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="1446" class="Symbol"
      >(</a
      ><a name="1447" href="Data.Colist.html#Colist" class="Datatype"
      >Colist</a
      > <a name="1454" href="IO.html#1414" class="Bound"
      >A</a
      ><a name="1455" class="Symbol"
      >)</a
      >
<a name="1457" href="IO.html#sequence" class="Function"
      >sequence</a
      > <a name="1466" href="Data.Colist.html#Colist.[]" class="InductiveConstructor"
      >[]</a
      >       <a name="1475" class="Symbol"
      >=</a
      > <a name="1477" href="IO.html#IO.return" class="InductiveConstructor"
      >return</a
      > <a name="1484" href="Data.Colist.html#Colist.[]" class="InductiveConstructor"
      >[]</a
      >
<a name="1487" href="IO.html#sequence" class="Function"
      >sequence</a
      > <a name="1496" class="Symbol"
      >(</a
      ><a name="1497" href="IO.html#1497" class="Bound"
      >c</a
      > <a name="1499" href="Data.Colist.html#Colist._&#8759;_" class="InductiveConstructor Operator"
      >&#8759;</a
      > <a name="1501" href="IO.html#1501" class="Bound"
      >cs</a
      ><a name="1503" class="Symbol"
      >)</a
      > <a name="1505" class="Symbol"
      >=</a
      > <a name="1507" href="Agda.Builtin.Coinduction.html#&#9839;_" class="CoinductiveConstructor Operator"
      >&#9839;</a
      > <a name="1509" href="IO.html#1497" class="Bound"
      >c</a
      >                  <a name="1528" href="IO.html#IO._&gt;&gt;=_" class="InductiveConstructor Operator"
      >&gt;&gt;=</a
      > <a name="1532" class="Symbol"
      >&#955;</a
      > <a name="1534" href="IO.html#1534" class="Bound"
      >x</a
      >  <a name="1537" class="Symbol"
      >&#8594;</a
      >
                    <a name="1559" href="Agda.Builtin.Coinduction.html#&#9839;_" class="CoinductiveConstructor Operator"
      >&#9839;</a
      > <a name="1561" class="Symbol"
      >(</a
      ><a name="1562" href="Agda.Builtin.Coinduction.html#&#9839;_" class="CoinductiveConstructor Operator"
      >&#9839;</a
      > <a name="1564" href="IO.html#sequence" class="Function"
      >sequence</a
      > <a name="1573" class="Symbol"
      >(</a
      ><a name="1574" href="Agda.Builtin.Coinduction.html#&#9837;" class="Field"
      >&#9837;</a
      > <a name="1576" href="IO.html#1501" class="Bound"
      >cs</a
      ><a name="1578" class="Symbol"
      >)</a
      > <a name="1580" href="IO.html#IO._&gt;&gt;=_" class="InductiveConstructor Operator"
      >&gt;&gt;=</a
      > <a name="1584" class="Symbol"
      >&#955;</a
      > <a name="1586" href="IO.html#1586" class="Bound"
      >xs</a
      > <a name="1589" class="Symbol"
      >&#8594;</a
      >
                    <a name="1611" href="Agda.Builtin.Coinduction.html#&#9839;_" class="CoinductiveConstructor Operator"
      >&#9839;</a
      > <a name="1613" href="IO.html#IO.return" class="InductiveConstructor"
      >return</a
      > <a name="1620" class="Symbol"
      >(</a
      ><a name="1621" href="IO.html#1534" class="Bound"
      >x</a
      > <a name="1623" href="Data.Colist.html#Colist._&#8759;_" class="InductiveConstructor Operator"
      >&#8759;</a
      > <a name="1625" href="Agda.Builtin.Coinduction.html#&#9839;_" class="CoinductiveConstructor Operator"
      >&#9839;</a
      > <a name="1627" href="IO.html#1586" class="Bound"
      >xs</a
      ><a name="1629" class="Symbol"
      >))</a
      >

<a name="1633" class="Comment"
      >-- The reason for not defining sequence&#8242; in terms of sequence is</a
      >
<a name="1698" class="Comment"
      >-- efficiency (the unused results could cause unnecessary memory use).</a
      >

<a name="sequence&#8242;" href="IO.html#sequence&#8242;" class="Function"
      >sequence&#8242;</a
      > <a name="1780" class="Symbol"
      >:</a
      > <a name="1782" class="Symbol"
      >&#8704;</a
      > <a name="1784" class="Symbol"
      >{</a
      ><a name="1785" href="IO.html#1785" class="Bound"
      >a</a
      ><a name="1786" class="Symbol"
      >}</a
      > <a name="1788" class="Symbol"
      >{</a
      ><a name="1789" href="IO.html#1789" class="Bound"
      >A</a
      > <a name="1791" class="Symbol"
      >:</a
      > <a name="1793" class="PrimitiveType"
      >Set</a
      > <a name="1797" href="IO.html#1785" class="Bound"
      >a</a
      ><a name="1798" class="Symbol"
      >}</a
      > <a name="1800" class="Symbol"
      >&#8594;</a
      > <a name="1802" href="Data.Colist.html#Colist" class="Datatype"
      >Colist</a
      > <a name="1809" class="Symbol"
      >(</a
      ><a name="1810" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="1813" href="IO.html#1789" class="Bound"
      >A</a
      ><a name="1814" class="Symbol"
      >)</a
      > <a name="1816" class="Symbol"
      >&#8594;</a
      > <a name="1818" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="1821" class="Symbol"
      >(</a
      ><a name="1822" href="Level.html#Lift" class="Record"
      >Lift</a
      > <a name="1827" href="Agda.Builtin.Unit.html#&#8868;" class="Record"
      >&#8868;</a
      ><a name="1828" class="Symbol"
      >)</a
      >
<a name="1830" href="IO.html#sequence&#8242;" class="Function"
      >sequence&#8242;</a
      > <a name="1840" href="Data.Colist.html#Colist.[]" class="InductiveConstructor"
      >[]</a
      >       <a name="1849" class="Symbol"
      >=</a
      > <a name="1851" href="IO.html#IO.return" class="InductiveConstructor"
      >return</a
      > <a name="1858" class="Symbol"
      >_</a
      >
<a name="1860" href="IO.html#sequence&#8242;" class="Function"
      >sequence&#8242;</a
      > <a name="1870" class="Symbol"
      >(</a
      ><a name="1871" href="IO.html#1871" class="Bound"
      >c</a
      > <a name="1873" href="Data.Colist.html#Colist._&#8759;_" class="InductiveConstructor Operator"
      >&#8759;</a
      > <a name="1875" href="IO.html#1875" class="Bound"
      >cs</a
      ><a name="1877" class="Symbol"
      >)</a
      > <a name="1879" class="Symbol"
      >=</a
      > <a name="1881" href="Agda.Builtin.Coinduction.html#&#9839;_" class="CoinductiveConstructor Operator"
      >&#9839;</a
      > <a name="1883" href="IO.html#1871" class="Bound"
      >c</a
      >                   <a name="1903" href="IO.html#IO._&gt;&gt;_" class="InductiveConstructor Operator"
      >&gt;&gt;</a
      >
                     <a name="1927" href="Agda.Builtin.Coinduction.html#&#9839;_" class="CoinductiveConstructor Operator"
      >&#9839;</a
      > <a name="1929" class="Symbol"
      >(</a
      ><a name="1930" href="Agda.Builtin.Coinduction.html#&#9839;_" class="CoinductiveConstructor Operator"
      >&#9839;</a
      > <a name="1932" href="IO.html#sequence&#8242;" class="Function"
      >sequence&#8242;</a
      > <a name="1942" class="Symbol"
      >(</a
      ><a name="1943" href="Agda.Builtin.Coinduction.html#&#9837;" class="Field"
      >&#9837;</a
      > <a name="1945" href="IO.html#1875" class="Bound"
      >cs</a
      ><a name="1947" class="Symbol"
      >)</a
      > <a name="1949" href="IO.html#IO._&gt;&gt;_" class="InductiveConstructor Operator"
      >&gt;&gt;</a
      >
                     <a name="1973" href="Agda.Builtin.Coinduction.html#&#9839;_" class="CoinductiveConstructor Operator"
      >&#9839;</a
      > <a name="1975" href="IO.html#IO.return" class="InductiveConstructor"
      >return</a
      > <a name="1982" class="Symbol"
      >_)</a
      >

<a name="mapM" href="IO.html#mapM" class="Function"
      >mapM</a
      > <a name="1991" class="Symbol"
      >:</a
      > <a name="1993" class="Symbol"
      >&#8704;</a
      > <a name="1995" class="Symbol"
      >{</a
      ><a name="1996" href="IO.html#1996" class="Bound"
      >a</a
      > <a name="1998" href="IO.html#1998" class="Bound"
      >b</a
      ><a name="1999" class="Symbol"
      >}</a
      > <a name="2001" class="Symbol"
      >{</a
      ><a name="2002" href="IO.html#2002" class="Bound"
      >A</a
      > <a name="2004" class="Symbol"
      >:</a
      > <a name="2006" class="PrimitiveType"
      >Set</a
      > <a name="2010" href="IO.html#1996" class="Bound"
      >a</a
      ><a name="2011" class="Symbol"
      >}</a
      > <a name="2013" class="Symbol"
      >{</a
      ><a name="2014" href="IO.html#2014" class="Bound"
      >B</a
      > <a name="2016" class="Symbol"
      >:</a
      > <a name="2018" class="PrimitiveType"
      >Set</a
      > <a name="2022" href="IO.html#1998" class="Bound"
      >b</a
      ><a name="2023" class="Symbol"
      >}</a
      > <a name="2025" class="Symbol"
      >&#8594;</a
      >
       <a name="2034" class="Symbol"
      >(</a
      ><a name="2035" href="IO.html#2002" class="Bound"
      >A</a
      > <a name="2037" class="Symbol"
      >&#8594;</a
      > <a name="2039" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="2042" href="IO.html#2014" class="Bound"
      >B</a
      ><a name="2043" class="Symbol"
      >)</a
      > <a name="2045" class="Symbol"
      >&#8594;</a
      > <a name="2047" href="Data.Colist.html#Colist" class="Datatype"
      >Colist</a
      > <a name="2054" href="IO.html#2002" class="Bound"
      >A</a
      > <a name="2056" class="Symbol"
      >&#8594;</a
      > <a name="2058" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="2061" class="Symbol"
      >(</a
      ><a name="2062" href="Data.Colist.html#Colist" class="Datatype"
      >Colist</a
      > <a name="2069" href="IO.html#2014" class="Bound"
      >B</a
      ><a name="2070" class="Symbol"
      >)</a
      >
<a name="2072" href="IO.html#mapM" class="Function"
      >mapM</a
      > <a name="2077" href="IO.html#2077" class="Bound"
      >f</a
      > <a name="2079" class="Symbol"
      >=</a
      > <a name="2081" href="IO.html#sequence" class="Function"
      >sequence</a
      > <a name="2090" href="Function.html#_&#8728;_" class="Function Operator"
      >&#8728;</a
      > <a name="2092" href="Data.Colist.html#map" class="Function"
      >map</a
      > <a name="2096" href="IO.html#2077" class="Bound"
      >f</a
      >

<a name="mapM&#8242;" href="IO.html#mapM&#8242;" class="Function"
      >mapM&#8242;</a
      > <a name="2105" class="Symbol"
      >:</a
      > <a name="2107" class="Symbol"
      >{</a
      ><a name="2108" href="IO.html#2108" class="Bound"
      >A</a
      > <a name="2110" href="IO.html#2110" class="Bound"
      >B</a
      > <a name="2112" class="Symbol"
      >:</a
      > <a name="2114" class="PrimitiveType"
      >Set</a
      ><a name="2117" class="Symbol"
      >}</a
      > <a name="2119" class="Symbol"
      >&#8594;</a
      > <a name="2121" class="Symbol"
      >(</a
      ><a name="2122" href="IO.html#2108" class="Bound"
      >A</a
      > <a name="2124" class="Symbol"
      >&#8594;</a
      > <a name="2126" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="2129" href="IO.html#2110" class="Bound"
      >B</a
      ><a name="2130" class="Symbol"
      >)</a
      > <a name="2132" class="Symbol"
      >&#8594;</a
      > <a name="2134" href="Data.Colist.html#Colist" class="Datatype"
      >Colist</a
      > <a name="2141" href="IO.html#2108" class="Bound"
      >A</a
      > <a name="2143" class="Symbol"
      >&#8594;</a
      > <a name="2145" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="2148" class="Symbol"
      >(</a
      ><a name="2149" href="Level.html#Lift" class="Record"
      >Lift</a
      > <a name="2154" href="Agda.Builtin.Unit.html#&#8868;" class="Record"
      >&#8868;</a
      ><a name="2155" class="Symbol"
      >)</a
      >
<a name="2157" href="IO.html#mapM&#8242;" class="Function"
      >mapM&#8242;</a
      > <a name="2163" href="IO.html#2163" class="Bound"
      >f</a
      > <a name="2165" class="Symbol"
      >=</a
      > <a name="2167" href="IO.html#sequence&#8242;" class="Function"
      >sequence&#8242;</a
      > <a name="2177" href="Function.html#_&#8728;_" class="Function Operator"
      >&#8728;</a
      > <a name="2179" href="Data.Colist.html#map" class="Function"
      >map</a
      > <a name="2183" href="IO.html#2163" class="Bound"
      >f</a
      >

<a name="2186" class="Comment"
      >------------------------------------------------------------------------</a
      >
<a name="2259" class="Comment"
      >-- Simple lazy IO</a
      >

<a name="2278" class="Comment"
      >-- Note that the functions below produce commands which, when</a
      >
<a name="2340" class="Comment"
      >-- executed, may raise exceptions.</a
      >

<a name="2376" class="Comment"
      >-- Note also that the semantics of these functions depends on the</a
      >
<a name="2442" class="Comment"
      >-- version of the Haskell base library. If the version is 4.2.0.0 (or</a
      >
<a name="2512" class="Comment"
      >-- later?), then the functions use the character encoding specified by</a
      >
<a name="2583" class="Comment"
      >-- the locale. For older versions of the library (going back to at</a
      >
<a name="2650" class="Comment"
      >-- least version 3) the functions use ISO-8859-1.</a
      >

<a name="getContents" href="IO.html#getContents" class="Function"
      >getContents</a
      > <a name="2713" class="Symbol"
      >:</a
      > <a name="2715" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="2718" href="Data.String.html#Costring" class="Function"
      >Costring</a
      >
<a name="2727" href="IO.html#getContents" class="Function"
      >getContents</a
      > <a name="2739" class="Symbol"
      >=</a
      > <a name="2741" href="IO.html#IO.lift" class="InductiveConstructor"
      >lift</a
      > <a name="2746" href="IO.Primitive.html#getContents" class="Postulate"
      >Prim.getContents</a
      >

<a name="readFile" href="IO.html#readFile" class="Function"
      >readFile</a
      > <a name="2773" class="Symbol"
      >:</a
      > <a name="2775" href="Agda.Builtin.String.html#String" class="Postulate"
      >String</a
      > <a name="2782" class="Symbol"
      >&#8594;</a
      > <a name="2784" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="2787" href="Data.String.html#Costring" class="Function"
      >Costring</a
      >
<a name="2796" href="IO.html#readFile" class="Function"
      >readFile</a
      > <a name="2805" href="IO.html#2805" class="Bound"
      >f</a
      > <a name="2807" class="Symbol"
      >=</a
      > <a name="2809" href="IO.html#IO.lift" class="InductiveConstructor"
      >lift</a
      > <a name="2814" class="Symbol"
      >(</a
      ><a name="2815" href="IO.Primitive.html#readFile" class="Postulate"
      >Prim.readFile</a
      > <a name="2829" href="IO.html#2805" class="Bound"
      >f</a
      ><a name="2830" class="Symbol"
      >)</a
      >

<a name="2833" class="Comment"
      >-- Reads a finite file. Raises an exception if the file path refers to</a
      >
<a name="2904" class="Comment"
      >-- a non-physical file (like &quot;/dev/zero&quot;).</a
      >

<a name="readFiniteFile" href="IO.html#readFiniteFile" class="Function"
      >readFiniteFile</a
      > <a name="2963" class="Symbol"
      >:</a
      > <a name="2965" href="Agda.Builtin.String.html#String" class="Postulate"
      >String</a
      > <a name="2972" class="Symbol"
      >&#8594;</a
      > <a name="2974" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="2977" href="Agda.Builtin.String.html#String" class="Postulate"
      >String</a
      >
<a name="2984" href="IO.html#readFiniteFile" class="Function"
      >readFiniteFile</a
      > <a name="2999" href="IO.html#2999" class="Bound"
      >f</a
      > <a name="3001" class="Symbol"
      >=</a
      > <a name="3003" href="IO.html#IO.lift" class="InductiveConstructor"
      >lift</a
      > <a name="3008" class="Symbol"
      >(</a
      ><a name="3009" href="IO.Primitive.html#readFiniteFile" class="Postulate"
      >Prim.readFiniteFile</a
      > <a name="3029" href="IO.html#2999" class="Bound"
      >f</a
      ><a name="3030" class="Symbol"
      >)</a
      >

<a name="writeFile&#8734;" href="IO.html#writeFile&#8734;" class="Function"
      >writeFile&#8734;</a
      > <a name="3044" class="Symbol"
      >:</a
      > <a name="3046" href="Agda.Builtin.String.html#String" class="Postulate"
      >String</a
      > <a name="3053" class="Symbol"
      >&#8594;</a
      > <a name="3055" href="Data.String.html#Costring" class="Function"
      >Costring</a
      > <a name="3064" class="Symbol"
      >&#8594;</a
      > <a name="3066" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="3069" href="Agda.Builtin.Unit.html#&#8868;" class="Record"
      >&#8868;</a
      >
<a name="3071" href="IO.html#writeFile&#8734;" class="Function"
      >writeFile&#8734;</a
      > <a name="3082" href="IO.html#3082" class="Bound"
      >f</a
      > <a name="3084" href="IO.html#3084" class="Bound"
      >s</a
      > <a name="3086" class="Symbol"
      >=</a
      >
  <a name="3090" href="Agda.Builtin.Coinduction.html#&#9839;_" class="CoinductiveConstructor Operator"
      >&#9839;</a
      > <a name="3092" href="IO.html#IO.lift" class="InductiveConstructor"
      >lift</a
      > <a name="3097" class="Symbol"
      >(</a
      ><a name="3098" href="IO.Primitive.html#writeFile" class="Postulate"
      >Prim.writeFile</a
      > <a name="3113" href="IO.html#3082" class="Bound"
      >f</a
      > <a name="3115" href="IO.html#3084" class="Bound"
      >s</a
      ><a name="3116" class="Symbol"
      >)</a
      > <a name="3118" href="IO.html#IO._&gt;&gt;_" class="InductiveConstructor Operator"
      >&gt;&gt;</a
      >
  <a name="3123" href="Agda.Builtin.Coinduction.html#&#9839;_" class="CoinductiveConstructor Operator"
      >&#9839;</a
      > <a name="3125" href="IO.html#IO.return" class="InductiveConstructor"
      >return</a
      > <a name="3132" class="Symbol"
      >_</a
      >

<a name="writeFile" href="IO.html#writeFile" class="Function"
      >writeFile</a
      > <a name="3145" class="Symbol"
      >:</a
      > <a name="3147" href="Agda.Builtin.String.html#String" class="Postulate"
      >String</a
      > <a name="3154" class="Symbol"
      >&#8594;</a
      > <a name="3156" href="Agda.Builtin.String.html#String" class="Postulate"
      >String</a
      > <a name="3163" class="Symbol"
      >&#8594;</a
      > <a name="3165" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="3168" href="Agda.Builtin.Unit.html#&#8868;" class="Record"
      >&#8868;</a
      >
<a name="3170" href="IO.html#writeFile" class="Function"
      >writeFile</a
      > <a name="3180" href="IO.html#3180" class="Bound"
      >f</a
      > <a name="3182" href="IO.html#3182" class="Bound"
      >s</a
      > <a name="3184" class="Symbol"
      >=</a
      > <a name="3186" href="IO.html#writeFile&#8734;" class="Function"
      >writeFile&#8734;</a
      > <a name="3197" href="IO.html#3180" class="Bound"
      >f</a
      > <a name="3199" class="Symbol"
      >(</a
      ><a name="3200" href="Data.String.html#toCostring" class="Function"
      >toCostring</a
      > <a name="3211" href="IO.html#3182" class="Bound"
      >s</a
      ><a name="3212" class="Symbol"
      >)</a
      >

<a name="appendFile&#8734;" href="IO.html#appendFile&#8734;" class="Function"
      >appendFile&#8734;</a
      > <a name="3227" class="Symbol"
      >:</a
      > <a name="3229" href="Agda.Builtin.String.html#String" class="Postulate"
      >String</a
      > <a name="3236" class="Symbol"
      >&#8594;</a
      > <a name="3238" href="Data.String.html#Costring" class="Function"
      >Costring</a
      > <a name="3247" class="Symbol"
      >&#8594;</a
      > <a name="3249" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="3252" href="Agda.Builtin.Unit.html#&#8868;" class="Record"
      >&#8868;</a
      >
<a name="3254" href="IO.html#appendFile&#8734;" class="Function"
      >appendFile&#8734;</a
      > <a name="3266" href="IO.html#3266" class="Bound"
      >f</a
      > <a name="3268" href="IO.html#3268" class="Bound"
      >s</a
      > <a name="3270" class="Symbol"
      >=</a
      >
  <a name="3274" href="Agda.Builtin.Coinduction.html#&#9839;_" class="CoinductiveConstructor Operator"
      >&#9839;</a
      > <a name="3276" href="IO.html#IO.lift" class="InductiveConstructor"
      >lift</a
      > <a name="3281" class="Symbol"
      >(</a
      ><a name="3282" href="IO.Primitive.html#appendFile" class="Postulate"
      >Prim.appendFile</a
      > <a name="3298" href="IO.html#3266" class="Bound"
      >f</a
      > <a name="3300" href="IO.html#3268" class="Bound"
      >s</a
      ><a name="3301" class="Symbol"
      >)</a
      > <a name="3303" href="IO.html#IO._&gt;&gt;_" class="InductiveConstructor Operator"
      >&gt;&gt;</a
      >
  <a name="3308" href="Agda.Builtin.Coinduction.html#&#9839;_" class="CoinductiveConstructor Operator"
      >&#9839;</a
      > <a name="3310" href="IO.html#IO.return" class="InductiveConstructor"
      >return</a
      > <a name="3317" class="Symbol"
      >_</a
      >

<a name="appendFile" href="IO.html#appendFile" class="Function"
      >appendFile</a
      > <a name="3331" class="Symbol"
      >:</a
      > <a name="3333" href="Agda.Builtin.String.html#String" class="Postulate"
      >String</a
      > <a name="3340" class="Symbol"
      >&#8594;</a
      > <a name="3342" href="Agda.Builtin.String.html#String" class="Postulate"
      >String</a
      > <a name="3349" class="Symbol"
      >&#8594;</a
      > <a name="3351" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="3354" href="Agda.Builtin.Unit.html#&#8868;" class="Record"
      >&#8868;</a
      >
<a name="3356" href="IO.html#appendFile" class="Function"
      >appendFile</a
      > <a name="3367" href="IO.html#3367" class="Bound"
      >f</a
      > <a name="3369" href="IO.html#3369" class="Bound"
      >s</a
      > <a name="3371" class="Symbol"
      >=</a
      > <a name="3373" href="IO.html#appendFile&#8734;" class="Function"
      >appendFile&#8734;</a
      > <a name="3385" href="IO.html#3367" class="Bound"
      >f</a
      > <a name="3387" class="Symbol"
      >(</a
      ><a name="3388" href="Data.String.html#toCostring" class="Function"
      >toCostring</a
      > <a name="3399" href="IO.html#3369" class="Bound"
      >s</a
      ><a name="3400" class="Symbol"
      >)</a
      >

<a name="putStr&#8734;" href="IO.html#putStr&#8734;" class="Function"
      >putStr&#8734;</a
      > <a name="3411" class="Symbol"
      >:</a
      > <a name="3413" href="Data.String.html#Costring" class="Function"
      >Costring</a
      > <a name="3422" class="Symbol"
      >&#8594;</a
      > <a name="3424" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="3427" href="Agda.Builtin.Unit.html#&#8868;" class="Record"
      >&#8868;</a
      >
<a name="3429" href="IO.html#putStr&#8734;" class="Function"
      >putStr&#8734;</a
      > <a name="3437" href="IO.html#3437" class="Bound"
      >s</a
      > <a name="3439" class="Symbol"
      >=</a
      >
  <a name="3443" href="Agda.Builtin.Coinduction.html#&#9839;_" class="CoinductiveConstructor Operator"
      >&#9839;</a
      > <a name="3445" href="IO.html#IO.lift" class="InductiveConstructor"
      >lift</a
      > <a name="3450" class="Symbol"
      >(</a
      ><a name="3451" href="IO.Primitive.html#putStr" class="Postulate"
      >Prim.putStr</a
      > <a name="3463" href="IO.html#3437" class="Bound"
      >s</a
      ><a name="3464" class="Symbol"
      >)</a
      > <a name="3466" href="IO.html#IO._&gt;&gt;_" class="InductiveConstructor Operator"
      >&gt;&gt;</a
      >
  <a name="3471" href="Agda.Builtin.Coinduction.html#&#9839;_" class="CoinductiveConstructor Operator"
      >&#9839;</a
      > <a name="3473" href="IO.html#IO.return" class="InductiveConstructor"
      >return</a
      > <a name="3480" class="Symbol"
      >_</a
      >

<a name="putStr" href="IO.html#putStr" class="Function"
      >putStr</a
      > <a name="3490" class="Symbol"
      >:</a
      > <a name="3492" href="Agda.Builtin.String.html#String" class="Postulate"
      >String</a
      > <a name="3499" class="Symbol"
      >&#8594;</a
      > <a name="3501" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="3504" href="Agda.Builtin.Unit.html#&#8868;" class="Record"
      >&#8868;</a
      >
<a name="3506" href="IO.html#putStr" class="Function"
      >putStr</a
      > <a name="3513" href="IO.html#3513" class="Bound"
      >s</a
      > <a name="3515" class="Symbol"
      >=</a
      > <a name="3517" href="IO.html#putStr&#8734;" class="Function"
      >putStr&#8734;</a
      > <a name="3525" class="Symbol"
      >(</a
      ><a name="3526" href="Data.String.html#toCostring" class="Function"
      >toCostring</a
      > <a name="3537" href="IO.html#3513" class="Bound"
      >s</a
      ><a name="3538" class="Symbol"
      >)</a
      >

<a name="putStrLn&#8734;" href="IO.html#putStrLn&#8734;" class="Function"
      >putStrLn&#8734;</a
      > <a name="3551" class="Symbol"
      >:</a
      > <a name="3553" href="Data.String.html#Costring" class="Function"
      >Costring</a
      > <a name="3562" class="Symbol"
      >&#8594;</a
      > <a name="3564" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="3567" href="Agda.Builtin.Unit.html#&#8868;" class="Record"
      >&#8868;</a
      >
<a name="3569" href="IO.html#putStrLn&#8734;" class="Function"
      >putStrLn&#8734;</a
      > <a name="3579" href="IO.html#3579" class="Bound"
      >s</a
      > <a name="3581" class="Symbol"
      >=</a
      >
  <a name="3585" href="Agda.Builtin.Coinduction.html#&#9839;_" class="CoinductiveConstructor Operator"
      >&#9839;</a
      > <a name="3587" href="IO.html#IO.lift" class="InductiveConstructor"
      >lift</a
      > <a name="3592" class="Symbol"
      >(</a
      ><a name="3593" href="IO.Primitive.html#putStrLn" class="Postulate"
      >Prim.putStrLn</a
      > <a name="3607" href="IO.html#3579" class="Bound"
      >s</a
      ><a name="3608" class="Symbol"
      >)</a
      > <a name="3610" href="IO.html#IO._&gt;&gt;_" class="InductiveConstructor Operator"
      >&gt;&gt;</a
      >
  <a name="3615" href="Agda.Builtin.Coinduction.html#&#9839;_" class="CoinductiveConstructor Operator"
      >&#9839;</a
      > <a name="3617" href="IO.html#IO.return" class="InductiveConstructor"
      >return</a
      > <a name="3624" class="Symbol"
      >_</a
      >

<a name="putStrLn" href="IO.html#putStrLn" class="Function"
      >putStrLn</a
      > <a name="3636" class="Symbol"
      >:</a
      > <a name="3638" href="Agda.Builtin.String.html#String" class="Postulate"
      >String</a
      > <a name="3645" class="Symbol"
      >&#8594;</a
      > <a name="3647" href="IO.html#IO" class="Datatype"
      >IO</a
      > <a name="3650" href="Agda.Builtin.Unit.html#&#8868;" class="Record"
      >&#8868;</a
      >
<a name="3652" href="IO.html#putStrLn" class="Function"
      >putStrLn</a
      > <a name="3661" href="IO.html#3661" class="Bound"
      >s</a
      > <a name="3663" class="Symbol"
      >=</a
      > <a name="3665" href="IO.html#putStrLn&#8734;" class="Function"
      >putStrLn&#8734;</a
      > <a name="3675" class="Symbol"
      >(</a
      ><a name="3676" href="Data.String.html#toCostring" class="Function"
      >toCostring</a
      > <a name="3687" href="IO.html#3661" class="Bound"
      >s</a
      ><a name="3688" class="Symbol"
      >)</a
      >
</pre
    ></body
  ></html
>
